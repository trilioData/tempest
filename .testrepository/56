time: 2017-04-14 05:59:28.571599Z
tags: worker-0
test: tempest.api.workloadmgr.integration.test_data_integrity.WorkloadsTest.test_data_integrity[id-9fe07175-912e-49a5-a629-5f52eeada4c9,smoke]
time: 2017-04-14 05:59:33.763149Z
failure: tempest.api.workloadmgr.integration.test_data_integrity.WorkloadsTest.test_data_integrity[id-9fe07175-912e-49a5-a629-5f52eeada4c9,smoke] [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3F77
2017-04-14 11:29:28,720 4675 INFO     [tempest_lib.common.rest_client] Request (WorkloadsTest:test_data_integrity): 200 POST http://192.168.1.21:5000/v2.0/tokens
2017-04-14 11:29:28,721 4675 DEBUG    [tempest_lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'status': '200', 'content-length': '4795', 'vary': 'X-Auth-Token,Accept-Encoding', 'server': 'Apache/2.4.6 (CentOS)', 'connection': 'close', '-content-encoding': 'gzip', 'date': 'Fri, 14 Apr 2017 05:59:28 GMT', 'content-type': 'application/json', 'x-openstack-request-id': 'req-021e68ae-6627-4bc4-8785-9d1ddc8a598d'}
        Body: {"access": {"token": {"issued_at": "2017-04-14T05:59:28.700383Z", "expires": "2017-04-14T06:59:28Z", "id": "8e8c9802d2b84dabb9288d08f94b1392", "tenant": {"description": "engineering", "enabled": true, "id": "dfd590b482c64004874bf7860ca51dd2", "name": "engineering"}, "audit_ids": ["FHp6_v7wQICQovox1bKJJQ"]}, "serviceCatalog": [{"endpoints": [{"adminURL": "http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2", "region": "RegionOne", "internalURL": "http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2", "id": "3623b0d9585d4466adf1257bd61f78e8", "publicURL": "http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2"}], "endpoints_links": [], "type": "compute", "name": "nova"}, {"endpoints": [{"adminURL": "http://192.168.1.21:9696", "region": "RegionOne", "internalURL": "http://192.168.1.21:9696", "id": "3aba0b619e6a48a1805ac8e7e3f92444", "publicURL": "http://192.168.1.21:9696"}], "endpoints_links": [], "type": "network", "name": "neutron"}, {"endpoints": [{"adminURL": "http://192.168.1.21:8776/v2/dfd590b482c64004874bf7860ca51dd2", "region": "RegionOne", "internalURL": "http://192.168.1.21:8776/v2/dfd590b482c64004874bf7860ca51dd2", "id": "7f378a69a1504139b24cf70a034a30e1", "publicURL": "http://192.168.1.21:8776/v2/dfd590b482c64004874bf7860ca51dd2"}], "endpoints_links": [], "type": "volumev2", "name": "cinderv2"}, {"endpoints": [{"adminURL": "http://192.168.1.21:8774/v3", "region": "RegionOne", "internalURL": "http://192.168.1.21:8774/v3", "id": "1626e50bb02b4b41aa72220b485b676f", "publicURL": "http://192.168.1.21:8774/v3"}], "endpoints_links": [], "type": "computev3", "name": "novav3"}, {"endpoints": [{"adminURL": "http://192.168.1.21:8042", "region": "RegionOne", "internalURL": "http://192.168.1.21:8042", "id": "19c608b5e68a4c1b8ffdd860e4658948", "publicURL": "http://192.168.1.21:8042"}], "endpoints_links": [], "type": "alarming", "name": "aodh"}, {"endpoints": [{"adminURL": "http://192.168.1.21:9292", "region": "RegionOne", "internalURL": "http://192.168.1.21:9292", "id": "1957b0e6cc694e1594009b68826bb76d", "publicURL": "http://192.168.1.21:9292"}], "endpoints_links": [], "type": "image", "name": "Image Service"}, {"endpoints": [{"adminURL": "http://127.0.0.1:8776/v3/dfd590b482c64004874bf7860ca51dd2", "region": "RegionOne", "internalURL": "http://127.0.0.1:8776/v3/dfd590b482c64004874bf7860ca51dd2", "id": "01b67484f6f44b5184b3ce3a91c1fa7c", "publicURL": "http://127.0.0.1:8776/v3/dfd590b482c64004874bf7860ca51dd2"}], "endpoints_links": [], "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"adminURL": "http://192.168.1.21:8777", "region": "RegionOne", "internalURL": "http://192.168.1.21:8777", "id": "04241e28e34544b7a6f6e75ebbccd026", "publicURL": "http://192.168.1.21:8777"}], "endpoints_links": [], "type": "metering", "name": "ceilometer"}, {"endpoints": [{"adminURL": "http://192.168.1.21:8776/v1/dfd590b482c64004874bf7860ca51dd2", "region": "RegionOne", "internalURL": "http://192.168.1.21:8776/v1/dfd590b482c64004874bf7860ca51dd2", "id": "2cbd4fdb821347f2abbf963d21ae4829", "publicURL": "http://192.168.1.21:8776/v1/dfd590b482c64004874bf7860ca51dd2"}], "endpoints_links": [], "type": "volume", "name": "cinder"}, {"endpoints": [{"adminURL": "http://192.168.1.21:8080/v1/AUTH_dfd590b482c64004874bf7860ca51dd2", "region": "RegionOne", "internalURL": "http://192.168.1.21:8080/v1/AUTH_dfd590b482c64004874bf7860ca51dd2", "id": "55d98ce368d34b989649f7ad2556df4e", "publicURL": "http://192.168.1.21:8080/v1/AUTH_dfd590b482c64004874bf7860ca51dd2"}], "endpoints_links": [], "type": "object-store", "name": "swift"}, {"endpoints": [{"adminURL": "http://192.168.1.25:8780/v1/dfd590b482c64004874bf7860ca51dd2", "region": "RegionOne", "internalURL": "http://192.168.1.25:8780/v1/dfd590b482c64004874bf7860ca51dd2", "id": "1c1dd8d831d64e0084a7080a74b02a94", "publicURL": "http://192.168.1.25:8780/v1/dfd590b482c64004874bf7860ca51dd2"}], "endpoints_links": [], "type": "workloads", "name": "TrilioVaultWLM"}, {"endpoints": [{"adminURL": "http://192.168.1.21:8041", "region": "RegionOne", "internalURL": "http://192.168.1.21:8041", "id": 
2017-04-14 11:29:29,761 4675 INFO     [tempest_lib.common.rest_client] Request (WorkloadsTest:test_data_integrity): 202 POST http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2/servers 1.039s
2017-04-14 11:29:29,761 4675 DEBUG    [tempest_lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"flavorRef": "1", "name": "tempest-test-vm", "imageRef": "60253cbd-d9c4-4b0f-a026-822ab33ab445", "networks": [{"uuid": "f806f7a0-93b0-47f6-bf68-32ee66bddbaf"}]}}
    Response - Headers: {'status': '202', 'content-length': '440', 'x-compute-request-id': 'req-c0ff5aa4-fd0b-4220-b9c2-6de2115f4366', 'connection': 'close', 'location': 'http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca', 'date': 'Fri, 14 Apr 2017 05:59:29 GMT', 'content-type': 'application/json'}
        Body: {"server": {"security_groups": [{"name": "default"}], "OS-DCF:diskConfig": "MANUAL", "id": "f1195aaa-c42c-4b7c-9a2c-489e35015eca", "links": [{"href": "http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca", "rel": "self"}, {"href": "http://192.168.1.21:8774/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca", "rel": "bookmark"}], "adminPass": "g7XQeSVsB2Eb"}}
2017-04-14 11:29:29,898 4675 INFO     [tempest_lib.common.rest_client] Request (WorkloadsTest:test_data_integrity): 200 GET http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca 0.134s
2017-04-14 11:29:29,899 4675 DEBUG    [tempest_lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'status': '200', 'content-length': '1430', 'content-location': 'http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca', 'x-compute-request-id': 'req-efc6c527-bb3a-462b-8d7a-02164efe93b7', 'connection': 'close', 'date': 'Fri, 14 Apr 2017 05:59:29 GMT', 'content-type': 'application/json'}
        Body: {"server": {"status": "BUILD", "updated": "2017-04-14T05:59:29Z", "hostId": "", "OS-EXT-SRV-ATTR:host": null, "addresses": {}, "links": [{"href": "http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca", "rel": "self"}, {"href": "http://192.168.1.21:8774/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca", "rel": "bookmark"}], "key_name": null, "image": {"id": "60253cbd-d9c4-4b0f-a026-822ab33ab445", "links": [{"href": "http://192.168.1.21:8774/dfd590b482c64004874bf7860ca51dd2/images/60253cbd-d9c4-4b0f-a026-822ab33ab445", "rel": "bookmark"}]}, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-SRV-ATTR:instance_name": "instance-00000065", "OS-SRV-USG:launched_at": null, "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "flavor": {"id": "1", "links": [{"href": "http://192.168.1.21:8774/dfd590b482c64004874bf7860ca51dd2/flavors/1", "rel": "bookmark"}]}, "id": "f1195aaa-c42c-4b7c-9a2c-489e35015eca", "OS-SRV-USG:terminated_at": null, "OS-EXT-AZ:availability_zone": "", "user_id": "c69d36052960407b9796f3a9d31cb4fb", "name": "tempest-test-vm", "created": "2017-04-14T05:59:29Z", "tenant_id": "dfd590b482c64004874bf7860ca51dd2", "OS-DCF:diskConfig": "MANUAL", "os-extended-volumes:volumes_attached": [], "accessIPv4": "", "accessIPv6": "", "progress": 0, "OS-EXT-STS:power_state": 0, "config_drive": "", "metadata": {}}}
2017-04-14 11:29:31,161 4675 INFO     [tempest_lib.common.rest_client] Request (WorkloadsTest:test_data_integrity): 200 GET http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca 0.253s
2017-04-14 11:29:31,161 4675 DEBUG    [tempest_lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'status': '200', 'content-length': '1582', 'content-location': 'http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca', 'x-compute-request-id': 'req-00d55292-b1dc-4d5e-82d4-644d777e5ede', 'connection': 'close', 'date': 'Fri, 14 Apr 2017 05:59:31 GMT', 'content-type': 'application/json'}
        Body: {"server": {"status": "BUILD", "updated": "2017-04-14T05:59:30Z", "hostId": "937b46c53c945c16e0cee37da0b1060229abf05983d3443bff00bcaa", "OS-EXT-SRV-ATTR:host": "mitaka-controller-compute1", "addresses": {}, "links": [{"href": "http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca", "rel": "self"}, {"href": "http://192.168.1.21:8774/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca", "rel": "bookmark"}], "key_name": null, "image": {"id": "60253cbd-d9c4-4b0f-a026-822ab33ab445", "links": [{"href": "http://192.168.1.21:8774/dfd590b482c64004874bf7860ca51dd2/images/60253cbd-d9c4-4b0f-a026-822ab33ab445", "rel": "bookmark"}]}, "OS-EXT-STS:task_state": "spawning", "OS-EXT-STS:vm_state": "building", "OS-EXT-SRV-ATTR:instance_name": "instance-00000065", "OS-SRV-USG:launched_at": null, "OS-EXT-SRV-ATTR:hypervisor_hostname": "mitaka-controller-compute1", "flavor": {"id": "1", "links": [{"href": "http://192.168.1.21:8774/dfd590b482c64004874bf7860ca51dd2/flavors/1", "rel": "bookmark"}]}, "id": "f1195aaa-c42c-4b7c-9a2c-489e35015eca", "security_groups": [{"name": "default"}], "OS-SRV-USG:terminated_at": null, "OS-EXT-AZ:availability_zone": "compute1", "user_id": "c69d36052960407b9796f3a9d31cb4fb", "name": "tempest-test-vm", "created": "2017-04-14T05:59:29Z", "tenant_id": "dfd590b482c64004874bf7860ca51dd2", "OS-DCF:diskConfig": "MANUAL", "os-extended-volumes:volumes_attached": [], "accessIPv4": "", "accessIPv6": "", "progress": 0, "OS-EXT-STS:power_state": 0, "config_drive": "", "metadata": {}}}
2017-04-14 11:29:31,170 4675 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/spawning" after 2 second wait
2017-04-14 11:29:32,319 4675 INFO     [tempest_lib.common.rest_client] Request (WorkloadsTest:test_data_integrity): 200 GET http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca 0.148s
2017-04-14 11:29:32,320 4675 DEBUG    [tempest_lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'status': '200', 'content-length': '1552', 'content-location': 'http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca', 'x-compute-request-id': 'req-6d730560-0484-46a7-9135-ff5e26712250', 'connection': 'close', 'date': 'Fri, 14 Apr 2017 05:59:32 GMT', 'content-type': 'application/json'}
        Body: {"server": {"status": "BUILD", "updated": "2017-04-14T05:59:31Z", "hostId": "", "OS-EXT-SRV-ATTR:host": null, "addresses": {"int-net": [{"OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:50:f5:c7", "version": 4, "addr": "10.0.0.70", "OS-EXT-IPS:type": "fixed"}]}, "links": [{"href": "http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca", "rel": "self"}, {"href": "http://192.168.1.21:8774/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca", "rel": "bookmark"}], "key_name": null, "image": {"id": "60253cbd-d9c4-4b0f-a026-822ab33ab445", "links": [{"href": "http://192.168.1.21:8774/dfd590b482c64004874bf7860ca51dd2/images/60253cbd-d9c4-4b0f-a026-822ab33ab445", "rel": "bookmark"}]}, "OS-EXT-STS:task_state": "spawning", "OS-EXT-STS:vm_state": "building", "OS-EXT-SRV-ATTR:instance_name": "instance-00000065", "OS-SRV-USG:launched_at": null, "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "flavor": {"id": "1", "links": [{"href": "http://192.168.1.21:8774/dfd590b482c64004874bf7860ca51dd2/flavors/1", "rel": "bookmark"}]}, "id": "f1195aaa-c42c-4b7c-9a2c-489e35015eca", "OS-SRV-USG:terminated_at": null, "OS-EXT-AZ:availability_zone": "", "user_id": "c69d36052960407b9796f3a9d31cb4fb", "name": "tempest-test-vm", "created": "2017-04-14T05:59:29Z", "tenant_id": "dfd590b482c64004874bf7860ca51dd2", "OS-DCF:diskConfig": "MANUAL", "os-extended-volumes:volumes_attached": [], "accessIPv4": "", "accessIPv6": "", "progress": 0, "OS-EXT-STS:power_state": 0, "config_drive": "", "metadata": {}}}
2017-04-14 11:29:33,749 4675 INFO     [tempest_lib.common.rest_client] Request (WorkloadsTest:test_data_integrity): 200 GET http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca 0.420s
2017-04-14 11:29:33,750 4675 DEBUG    [tempest_lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'status': '200', 'content-length': '1939', 'content-location': 'http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca', 'x-compute-request-id': 'req-677bca25-5cb0-44e6-9248-efb171dac5a5', 'connection': 'close', 'date': 'Fri, 14 Apr 2017 05:59:33 GMT', 'content-type': 'application/json'}
        Body: {"server": {"status": "ERROR", "updated": "2017-04-14T05:59:32Z", "hostId": "", "OS-EXT-SRV-ATTR:host": null, "addresses": {}, "links": [{"href": "http://192.168.1.21:8774/v2/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca", "rel": "self"}, {"href": "http://192.168.1.21:8774/dfd590b482c64004874bf7860ca51dd2/servers/f1195aaa-c42c-4b7c-9a2c-489e35015eca", "rel": "bookmark"}], "key_name": null, "image": {"id": "60253cbd-d9c4-4b0f-a026-822ab33ab445", "links": [{"href": "http://192.168.1.21:8774/dfd590b482c64004874bf7860ca51dd2/images/60253cbd-d9c4-4b0f-a026-822ab33ab445", "rel": "bookmark"}]}, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-SRV-ATTR:instance_name": "instance-00000065", "OS-SRV-USG:launched_at": null, "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "flavor": {"id": "1", "links": [{"href": "http://192.168.1.21:8774/dfd590b482c64004874bf7860ca51dd2/flavors/1", "rel": "bookmark"}]}, "id": "f1195aaa-c42c-4b7c-9a2c-489e35015eca", "OS-SRV-USG:terminated_at": null, "OS-EXT-AZ:availability_zone": "", "user_id": "c69d36052960407b9796f3a9d31cb4fb", "name": "tempest-test-vm", "created": "2017-04-14T05:59:29Z", "tenant_id": "dfd590b482c64004874bf7860ca51dd2", "OS-DCF:diskConfig": "MANUAL", "os-extended-volumes:volumes_attached": [], "accessIPv4": "", "accessIPv6": "", "fault": {"message": "Build of instance f1195aaa-c42c-4b7c-9a2c-489e35015eca aborted: Flavor's disk is too small for requested image. Flavor disk is 1073741824 bytes, image is 2361393152 bytes.", "code": 500, "details": "  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 1926, in _do_build_and_run_instance\n    filter_properties)\n  File \"/usr/lib/python2.7/site-packages/nova/compute/manager.py\", line 2111, in _build_and_run_instance\n    reason=e.format_message())\n", "created": "2017-04-14T05:59:32Z"}, "OS-EXT-STS:power_state": 0, "config_drive": "", "metadata": {}}}
2017-04-14 11:29:33,757 4675 INFO     [tempest.common.waiters] State transition "BUILD/spawning" ==> "ERROR/None" after 4 second wait
0
Content-Type: text/plain;charset=utf8
stderr
0
Content-Type: text/plain;charset=utf8
stdout
0
Content-Type: text/x-traceback;charset=utf8,language=python
traceback
42E
Traceback (most recent call last):
  File "tempest/api/workloadmgr/integration/test_data_integrity.py", line 51, in test_data_integrity
    vm_id = self.create_vm()
  File "tempest/api/workloadmgr/base.py", line 238, in create_vm
    waiters.wait_for_server_status(self.servers_client, server_id, status='ACTIVE')
  File "tempest/common/waiters.py", line 75, in wait_for_server_status
    server_id=server_id)
tempest.exceptions.BuildErrorException: Server f1195aaa-c42c-4b7c-9a2c-489e35015eca failed to build and is in ERROR status
Details: {u'message': u"Build of instance f1195aaa-c42c-4b7c-9a2c-489e35015eca aborted: Flavor's disk is too small for requested image. Flavor disk is 1073741824 bytes, image is 2361393152 bytes.", u'code': 500, u'details': u'  File "/usr/lib/python2.7/site-packages/nova/compute/manager.py", line 1926, in _do_build_and_run_instance\n    filter_properties)\n  File "/usr/lib/python2.7/site-packages/nova/compute/manager.py", line 2111, in _build_and_run_instance\n    reason=e.format_message())\n', u'created': u'2017-04-14T05:59:32Z'}
0
]
tags: -worker-0
